{% if predictive_search.performed %}
  {% assign first_column_results_size = predictive_search.resources.queries.size
    | plus: predictive_search.resources.collections.size
    | plus: predictive_search.resources.pages.size
    | plus: predictive_search.resources.articles.size
  %}

  <div class="render-search" data-search-content>
    <div class="render-search__wrapper">
      {% if first_column_results_size > 0 %}
        <div class="render-search__column render-search__column-first {% if predictive_search.resources.products.size < 1 %}full-width{% endif %}">
          {%- if predictive_search.resources.queries.size > 0 -%}
            <div class="render-search__queries">
              <p class="render-search__title">Suggestions</p>
              {% for query in predictive_search.resources.queries %}
                <div class="render-search__item">
                  <a href="{{ query.url }}">
                    <span>
                      {{ query.styled_text }}
                    </span>
                  </a>
                </div>
              {% endfor %}
            </div>
          {%- endif -%}
          {% if predictive_search.resources.collections.size > 0 %}
            <div class="render-search__collections">
              <p class="render-search__title">Collections</p>
              {% for collection in predictive_search.resources.collections -%}
                a
                <div class="render-search__item">
                  <a href="{{ collection.url }}">{{ collection.title | escape }}</a>
                </div>
              {% endfor %}
            </div>
          {% endif %}
          {% if predictive_search.resources.pages.size > 0 %}
            <div class="render-search__pages">
              <p class="render-search__title">Pages</p>
              {% for page in predictive_search.resources.pages %}
                <div class="render-search__item">
                  <a href="{{ page.url }}">{{ page.title | escape }}</a>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      {% endif %}

      {% if predictive_search.resources.products.size > 0 %}
        <div class="render-search__column render-search__column-second {% if first_column_results_size < 1 %}full-width{% endif %}">
          <div class="render-search__products">
            <p class="render-search__title">Products</p>
            {% for product in predictive_search.resources.products %}
              <div class="render-search__item">
                <a href="{{ product.url }}">
                  {% if product.featured_image != blank %}
                    <img
                      src="{{ product.featured_image |  image_url: width: 150 }}"
                      alt="{{ product.featured_image.alt }}"
                      width="50"
                      height="{{50 | divided_by: product.featured_media.preview_image.aspect_ratio}}"
                    >
                    <span class="pred-search-section__title">{{ product.title }}</span>
                  {% endif %}
                </a>
              </div>
            {% endfor %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
{% endif %}

{% stylesheet %}
{% endstylesheet %}
